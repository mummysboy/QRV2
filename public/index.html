<!-- public/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, viewport-fit=cover, user-scalable=no, maximum-scale=1.0">
  <title>QRewards</title>
  <meta name="description" content="Scan. Play. Win!">
  <link rel="stylesheet" href="styles.css" /> <!-- Ensure this path is correct -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <div class="header-strip">
    <div class="hamburger-menu">
      <button class="menu-toggle">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <div class="menu-dropdown">
        <a href="#" id="contactMenuLink" class="menu-item">Contact</a> <!-- Added id -->
      </div>
    </div>
  </div>

  <!-- Logo Animation -->
  <video
    id="logoAnimation"
    src="assets/videos/Animetion Logo.mp4"
    muted 
    playsinline
    type="video/mp4"
  ></video>

  <!-- Main Content -->
  <div id="slideshow-container">
    <video id="cardAnimation" muted playsinline>
      <source src="assets/videos/Comp 1.mp4" type="video/mp4">
    </video>

    <!-- 2) Your overlay (logo + text) -->
    <div id="cardOverlay" class="hidden">
      <img id="cardLogo" src="" alt="Logo" />
      <p id="cardHeader"></p>
      <p id="cardAddress">
        <a href="https://www.google.com/maps?q=2132+Chestnut+St+San+Francisco,+CA" target="_blank" rel="noopener noreferrer">
        </a>
      </p>
      <p id="cardSubheader"></p>
      <div id="cardText"></div>
    </div>

    <!-- 3) Claim button (must be *inside* the relative container) -->
    <button id="claimBtn" class="hidden">Claim Reward</button>
  </div>

  <!-- Phone Popup -->
  <div id="phonePopup" class="phone-popup hidden">
    <div class="popup-content">
      <h3>Enter Phone Number</h3>
      <input type="tel" id="phoneInput" placeholder="(123) 456-7890" maxlength="14">
      <p class="disclaimer-text">Message & data rates may apply</p>
      <p class="disclaimer-text">We value your privacy. Your information will not be sold to third parties.</p>
      
      <!-- Terms and Conditions Checkbox -->
      <div class="terms-container">
        <input type="checkbox" id="termsCheckbox" name="termsCheckbox">
        <label for="termsCheckbox">
          I agree to the
          <a href="terms.html" target="_blank" rel="noopener noreferrer">Terms and Conditions</a>.
        </label>
        <div id="termsNotice" class="terms-notice" style="display:none;">
          Please accept the Terms and Conditions to continue.
        </div>
      </div>

      <div class="popup-buttons">
        <button id="submitPhone" disabled>Submit</button>
        <button id="cancelPhone">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Contact Popup -->
  <div id="contactPopup" class="contact-popup popup-overlay hidden"> <!-- Added popup-overlay for consistency -->
    <div class="popup-content">
      <button class="close-popup-button" id="closeContactPopup">&times;</button> <!-- Added close button -->
      <h3>We'd be happy to hear from you!</h3>
      <div id="contactStatusMessage" class="status-message"></div> <!-- Added status message area -->
      <input type="email" id="contactEmail" placeholder="Your email address" aria-label="Your email address" />
      <textarea id="contactMessage" placeholder="Your message" rows="4" aria-label="Your message"></textarea>
      <div class="popup-buttons">
        <button id="submitContact">Submit</button>
        <button id="cancelContact">Cancel</button>
      </div>
    </div>
  </div> <!-- Closing for contactPopup -->

  <!-- Post Submit Overlay -->
  <div id="postSubmitOverlay" class="hidden">
    <div class="post-submit-content-wrapper">
      <p id="rewardSentMessage">We sent your reward via text</p>
      <p class="play-again-message">You may play again in...</p>
      <div id="timerContainer"> <!-- Added wrapper for timer and labels -->
        <div id="playAgainTimer">24:00:00</div>
        <div class="timer-labels">
          <span class="timer-label">Hours</span>
          <span class="timer-label">Minutes</span>
          <span class="timer-label">Seconds</span>
        </div>
      <p id="thankYouMessage">Thank you!</p>
      </div>
      <svg class="sent-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48" fill="currentColor">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"/>
      </svg>
    </div>
  </div>

  <script type="module" src="src/config.js"></script>
  <script type="module" src="src/main.js" defer></script>
</body>
</html>
